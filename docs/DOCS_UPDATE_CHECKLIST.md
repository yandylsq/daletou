# 文档更新检查清单

## 📋 强制性要求

**每次代码修改、功能优化、模型算法调整后，必须同步更新相关文档！**

---

## ✅ 更新清单

### 1. 根目录文档

#### README.md
- [ ] 更新版本号徽章
- [ ] 更新系统简介（如有新特性）
- [ ] 更新核心特性列表
- [ ] 添加版本亮点说明
- [ ] 更新技术架构图（如有结构变化）
- [ ] 更新使用指南（如有新功能）
- [ ] 更新依赖列表（如有新依赖）

#### 版本说明文档（如 V11_OPTIMIZATION_NOTES.md）
- [ ] 创建新版本的详细优化说明
- [ ] 记录所有算法变更
- [ ] 记录评分系统调整
- [ ] 记录过滤条件变化
- [ ] 记录新增特征
- [ ] 提供代码变更摘要
- [ ] 说明优化理由和预期效果

### 2. docs/目录文档

#### DESIGN_DOCUMENT.md（设计文档）
- [ ] 更新系统架构说明
- [ ] 更新核心算法流程图
- [ ] 更新评分系统设计
- [ ] 更新过滤规则说明
- [ ] 添加新版本的设计决策

#### SYSTEM_MODULES.md（功能模块）
- [ ] 更新各模块功能说明
- [ ] 更新方法签名（如有变化）
- [ ] 更新算法描述
- [ ] 添加新增功能的完整文档
- [ ] 更新模块间调用关系

#### API_REFERENCE.md（API参考）
- [ ] 更新API端点（如有新增）
- [ ] 更新请求/响应格式（如有变化）
- [ ] 更新参数说明
- [ ] 添加新增API的示例

#### DEVELOPMENT_GUIDE.md（开发指南）
- [ ] 更新开发环境配置
- [ ] 更新测试方法
- [ ] 添加新功能的开发说明
- [ ] 更新代码规范（如有调整）

#### docs/README.md
- [ ] 更新文档索引
- [ ] 添加新文档的链接
- [ ] 更新快速导航

### 3. 代码注释

#### 方法级文档字符串
- [ ] 更新修改方法的docstring
- [ ] 说明参数变化
- [ ] 说明返回值变化
- [ ] 添加使用示例（如适用）

#### 类级文档字符串
- [ ] 更新类的整体说明
- [ ] 更新属性说明
- [ ] 更新使用场景说明

---

## 🔍 更新触发条件

以下情况**必须**更新文档：

### 算法/模型优化
- ✅ 评分系统调整
- ✅ 过滤条件变更
- ✅ 特征工程改进
- ✅ ML模型架构变化
- ✅ 权重参数调整

### 功能变更
- ✅ 新增功能模块
- ✅ 修改现有功能
- ✅ 删除功能
- ✅ API接口变更

### 代码重构
- ✅ 方法签名变化
- ✅ 参数增减
- ✅ 返回值格式变化
- ✅ 核心逻辑重写

### Bug修复
- ✅ 重要bug修复
- ✅ 性能问题修复
- ✅ 逻辑错误修正

---

## 📝 更新模板

### 版本更新模板

```markdown
## vX.X (YYYY-MM-DD)

### 新特性
- ✅ [功能名称]: 功能描述

### 优化
- ⚡ [模块名称]: 优化内容

### 修复
- 🐛 [问题描述]: 修复方案

### 变更
- 🔄 [变更内容]: 变更说明
```

### 算法描述模板

```markdown
## [算法名称]

### 算法目标
描述算法要解决的问题

### 输入
- 参数1: 类型, 说明
- 参数2: 类型, 说明

### 处理流程
1. 步骤1描述
2. 步骤2描述
3. ...

### 输出
- 返回值: 类型, 说明

### 触发条件
描述何时使用此算法

### 示例
```python
# 代码示例
```
```

---

## ⚠️ 常见遗漏

容易被遗漏的文档更新项：

1. **README版本徽章**：容易忘记更新版本号
2. **算法流程图**：代码改了但图未更新
3. **参数默认值**：代码中改了但文档未同步
4. **触发条件说明**：新增条件判断未在文档体现
5. **限制条件**：放宽或收紧限制未更新文档
6. **权重参数**：数值调整未记录
7. **返回格式**：JSON结构变化未同步
8. **依赖版本**：升级依赖未更新requirements.txt说明

---

## 🔧 自动化建议

### Git提交前检查
在提交代码前，自我检查：
1. 我修改了哪些算法？
2. 我改变了哪些参数？
3. 我新增了哪些功能？
4. 相关文档是否已更新？

### Commit Message规范
使用明确的提交信息：
```
feat: 新增XX功能 (更新docs/XX.md)
fix: 修复XX问题 (更新docs/XX.md)
refactor: 重构XX模块 (更新docs/XX.md, README.md)
docs: 更新XX文档
```

---

## 📊 文档覆盖率检查

定期检查以下指标：
- [ ] 每个公共方法都有docstring
- [ ] 每个核心算法都有流程图
- [ ] 每个API端点都有文档
- [ ] 每个版本都有更新日志
- [ ] 每个功能模块都有说明文档

---

## 🎯 质量标准

良好的文档应该：
1. **准确**：与代码实现完全一致
2. **完整**：覆盖所有参数、返回值、异常
3. **清晰**：使用简洁明了的语言
4. **及时**：与代码同步更新
5. **有用**：提供示例和最佳实践

---

## 📅 定期审查

建议每月进行一次文档审查：
- 检查文档与代码的一致性
- 更新过时的说明
- 补充缺失的文档
- 改进文档结构和可读性

---

**记住：代码变更 + 文档更新 = 完整的任务闭环！**
